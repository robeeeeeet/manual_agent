-- =====================================================
-- Migration: 00027_add_role_column_to_group_members
-- Description: group_membersテーブルにroleカラムを追加
-- Note: This migration was already applied to Supabase as 20260111110117
-- =====================================================

-- ============================================================================
-- Step 1: role カラムを追加
-- ============================================================================

ALTER TABLE public.group_members
    ADD COLUMN IF NOT EXISTS role TEXT NOT NULL DEFAULT 'member';

-- ============================================================================
-- Step 2: コメント追加
-- ============================================================================

COMMENT ON COLUMN public.group_members.role IS
    'メンバーの役割: owner（オーナー）, member（一般メンバー）';

-- ============================================================================
-- 完了
-- ============================================================================
-- このマイグレーションで作成されたもの:
-- - Column: group_members.role (TEXT NOT NULL DEFAULT 'member')
--
-- 役割の種類:
-- - 'owner': グループオーナー（グループ作成時にトリガーで自動設定）
-- - 'member': 一般メンバー（招待コードで参加時のデフォルト）
-- ============================================================================
